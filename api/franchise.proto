syntax = "proto3";
option go_package = "/gen";

message Endpoint {
    string server_name = 1;
    string ip_address = 2;
}

message Metadata {
    string protocol = 1;
    string availability = 2;
    repeated Endpoint endpoints = 3;
    uint32 franchise_id = 4;
}

message MovieDetails {
    float rating = 1;
    Metadata metadata = 2;
}

message CreateMetadataRequest {
    string host = 1;
}

message CreateMetadataResponse {
    string error = 1;
}

message GetMetadataRequest {
    uint32 franchise_id = 1;
}

message GetMetadataResponse {
    repeated Metadata metadata = 1;
}

service MetadataService {
    rpc GetMetadata(GetMetadataRequest) returns (GetMetadataResponse);
    rpc CreateMetadata(CreateMetadataRequest) returns (CreateMetadataResponse);
}
